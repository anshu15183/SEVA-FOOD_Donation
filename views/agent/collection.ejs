<main>
	<%- include('../partials/agentSidebar') %>

	<div id="main-wrapper">
		<div class="bg-white shadow-sm p-3">
			<span class="me-3" id="sidebar-toggler-btn"><i class="fas fa-bars"></i></span>
			<h5 class="m-0 color-theme d-inline-block">Collection</h5>
		</div>

		<div class="border m-4 my-3 p-4 bg-white rounded-2 shadow-sm">
			<div class="mb-2">
				<span>Donor Name:</span>
				<span><%= collection.donor.firstName + " " + collection.donor.lastName %></span>
			</div>

			<div class="mb-2">
				<span>Food type:</span>
				<span><%= collection.foodType %></span>
			</div>

			<div class="mb-2">
				<span>Quantity:</span>
				<span><%= collection.quantity %></span>
			</div>

			<div class="mb-2">
				<span>Time of cooking:</span>
				<span><%= collection.cookingTime.toLocaleString("en-IN", { dateStyle: "medium", timeStyle: "short"}) %></span>
			</div>

			<div class="mb-2">
				<span>Address to collect:</span>
				<span><%= collection.address %></span>
			</div>

			<div class="mb-2">
				<span>Phone:</span>
				<span><%= collection.phone %></span>
			</div>

			<div class="mb-2">
				<span>Status:</span>
				<span class="fw-bold text-<%= collection.status %>"><%= collection.status %></span>
			</div>

			<% if(collection.status == "assigned" && collection.adminToAgentMsg != "") { %>
			<div class="mb-2">
				<span>Message from Admin:</span>
				<div class="ms-3"><%= collection.adminToAgentMsg %></div>
			</div>
			<% } %> <% if(collection.status == "collected") { %>
			<div class="mb-2">
				<span>Collection time:</span>
				<span><%= collection.collectionTime.toLocaleString("en-IN", { dateStyle: "medium", timeStyle: "short"}) %></span>
			</div>
			<% } %>
		</div>
	</div>
</main>

<style>
	/* Main Wrapper Styling */
	#main-wrapper {
		margin-left: 250px; /* Adjust for sidebar width */
		padding: 20px;
		transition: margin-left 0.3s ease; /* Smooth transition */
		background-color: #f4f6f9; /* Light background for better contrast */
		min-height: 100vh; /* Full-page height */
	}

	/* Collection Information Box */
	.border {
		border: 1px solid #e3e6eb;
		border-radius: 8px; /* Rounded corners for clean look */
		padding: 20px;
		background-color: #fff; /* White background */
		box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
		color: #333;
	}

	.mb-2 span:first-child {
		font-weight: 600; /* Make labels bold for emphasis */
		display: inline-block;
		width: 160px; /* Ensures labels are aligned */
		color: #495057; /* Slightly darker text color for clarity */
	}

	.mb-2 span:last-child {
		font-weight: 400; /* Lighter weight for content */
		color: #333; /* Default text color */
	}

	/* Collection Status Styling */
	.text-collected {
		color: #198754; /* Green for collected status */
	}

	.text-assigned {
		color: #0d6efd; /* Blue for assigned status */
	}

	.text-pending {
		color: #ffc107; /* Yellow for pending status */
	}

	.text-cancelled {
		color: #dc3545; /* Red for cancelled status */
	}

	.fw-bold {
		font-weight: 700; /* Bold the status */
	}

	/* Message Box from Admin */
	.ms-3 {
		padding-left: 10px;
		background-color: #f8f9fa; /* Light gray background */
		border-left: 3px solid #0d6efd; /* Blue side border to emphasize */
		margin-top: 5px;
		padding: 10px;
		font-style: italic; /* Different font style for messages */
	}

	/* Media Query for Mobile */
	@media (max-width: 768px) {
		#main-wrapper {
			margin-left: 0; /* Full-width for smaller screens */
			padding: 15px;
		}

		.border {
			padding: 15px;
		}

		.mb-2 span:first-child {
			width: auto; /* Labels adjust to text size on smaller screens */
			display: block;
			margin-bottom: 5px;
		}

		.mb-2 span:last-child {
			display: block;
		}
	}
</style>
